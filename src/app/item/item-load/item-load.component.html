<div class="w-100 h-100" *ngIf="loading">
  <p>Loading new item data... <i class="fa fa-refresh fa-spin fa-2x fa-fw"></i></p>
</div>

<div class="w-100 h-100" *ngIf="!loading">

  <div class="w-100 h-100" *ngIf="serviceError">
    <p>{{errorMessage}}</p>
  </div>

  <div class="w-100 h-100" *ngIf="isNotEditable()">
    <p>Item is currently being edited by {{currentItem.beingEditedBy}}</p>
    <p><a routerLink="/">Return home</a></p>
  </div>

  <div class="w-100 h-100" *ngIf="isCreate() || isEdit() || isView()">
    <nav class="navbar navbar-light bg-faded">
      <div class="row">
        <div class="col-6">
          <div class="float-left" style="white-space: normal;">
            {{navBarMessage}}
          </div>
        </div>

        <div class="col-4">
          <!--
          <div class="text-center" style="white-space: normal;">
            <button class="btn btn-secondary" routerLink="/">Preview</button>
          </div>
          -->
        </div>

        <div class="col-2">
          <!--
          <div class="float-right" style="white-space: normal;">
            <i class="fa fa-check-circle" style="color: green;"></i>&nbsp;
            <span class="text-success">Saved!</span>
          </div>
          -->
        </div>

      </div>
    </nav>

    <app-item-load-sa *ngIf="currentItem.type=='sa'"></app-item-load-sa>

    <nav class="navbar navbar-light bg-faded">
      <div class="row">
        <div class="col-lg-12 pull-left">
          <button *ngIf="isCreate()" class="btn btn-secondary" (click)="createItem()">Create item</button>
          <button *ngIf="isCreate()" class="btn btn-secondary" (click)="cancelCreate()">Cancel</button>

          <button *ngIf="isView()" class="btn btn-secondary" (click)="goBack()">Done</button>
          <button *ngIf="isView()" class="btn btn-secondary" (click)="editItem()">Edit</button>

          <button *ngIf="isEdit()" class="btn btn-secondary" (click)="commitItem()">Commit Changes</button>
          <button *ngIf="isEdit()" class="btn btn-secondary" (click)="cancelEdit()">Discard Changes</button>
        </div>
      </div>
    </nav>
  </div>

</div>

<ng-template confirm>
  <app-confirm-modal-component></app-confirm-modal-component>
</ng-template>
